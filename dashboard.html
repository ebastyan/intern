<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PAJU Dashboard - Statistici Complete</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        /* LOGIN SCREEN */
        .login-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        .login-box {
            background: rgba(255,255,255,0.08);
            border-radius: 20px;
            padding: 40px;
            width: 90%;
            max-width: 400px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }
        .login-box h1 {
            font-size: 2em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #00d9ff, #00ff88);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .login-box p {
            color: #888;
            margin-bottom: 30px;
            font-size: 0.9em;
        }
        .login-box input {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 10px;
            background: rgba(0,0,0,0.3);
            color: #fff;
            font-size: 1em;
            margin-bottom: 15px;
            outline: none;
            transition: border-color 0.3s;
        }
        .login-box input:focus {
            border-color: #00d9ff;
        }
        .login-box input::placeholder {
            color: #666;
        }
        .login-box button {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 10px;
            background: linear-gradient(45deg, #00d9ff, #00ff88);
            color: #1a1a2e;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .login-box button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0,217,255,0.3);
        }
        .login-error {
            color: #ff6384;
            font-size: 0.85em;
            margin-top: 10px;
            display: none;
        }
        .login-hint {
            color: #666;
            font-size: 0.75em;
            margin-top: 20px;
        }
        .login-overlay.hidden { display: none; }
        .dashboard-content.hidden { display: none; }

        /* MAIN DASHBOARD */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            color: #fff;
            padding: 10px;
        }

        @media (min-width: 768px) {
            body { padding: 20px; }
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
        }

        @media (min-width: 768px) {
            .header {
                margin-bottom: 30px;
                padding: 25px;
            }
        }

        .header h1 {
            font-size: 1.5em;
            margin-bottom: 8px;
            background: linear-gradient(45deg, #00d9ff, #00ff88);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        @media (min-width: 768px) {
            .header h1 { font-size: 2.2em; }
        }

        .header p { color: #888; font-size: 0.85em; }
        .header .date { color: #00d9ff; font-size: 0.75em; margin-top: 8px; }

        @media (min-width: 768px) {
            .header p { font-size: 1em; }
            .header .date { font-size: 0.85em; }
        }

        .logout-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 8px 15px;
            background: rgba(255,99,132,0.2);
            border: 1px solid rgba(255,99,132,0.5);
            border-radius: 8px;
            color: #ff6384;
            font-size: 0.8em;
            cursor: pointer;
            transition: all 0.3s;
        }
        .logout-btn:hover {
            background: rgba(255,99,132,0.4);
        }

        .tabs {
            display: flex;
            gap: 6px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        @media (min-width: 768px) {
            .tabs {
                gap: 8px;
                margin-bottom: 25px;
                justify-content: flex-start;
            }
        }

        .tab {
            padding: 8px 12px;
            background: rgba(255,255,255,0.1);
            border: none;
            border-radius: 8px;
            color: #fff;
            cursor: pointer;
            font-size: 0.75em;
            transition: all 0.3s;
            flex: 1 1 auto;
            min-width: 80px;
            max-width: 150px;
        }

        @media (min-width: 768px) {
            .tab {
                padding: 10px 18px;
                font-size: 0.9em;
                flex: none;
                min-width: auto;
                max-width: none;
            }
        }

        .tab:hover { background: rgba(255,255,255,0.2); }
        .tab.active {
            background: linear-gradient(45deg, #00d9ff, #00ff88);
            color: #1a1a2e;
            font-weight: bold;
        }

        .tab-content { display: none; }
        .tab-content.active { display: block; }

        .section { margin-bottom: 20px; }

        @media (min-width: 768px) {
            .section { margin-bottom: 30px; }
        }

        .section-title {
            font-size: 1.2em;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #00d9ff;
        }

        @media (min-width: 768px) {
            .section-title {
                font-size: 1.5em;
                margin-bottom: 20px;
            }
        }

        .cards {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            margin-bottom: 15px;
        }

        @media (min-width: 480px) {
            .cards {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (min-width: 768px) {
            .cards {
                grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
                gap: 12px;
                margin-bottom: 20px;
            }
        }

        .card {
            background: rgba(255,255,255,0.08);
            border-radius: 10px;
            padding: 12px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        @media (min-width: 768px) {
            .card { padding: 15px; }
        }

        .card h3 {
            font-size: 0.6em;
            color: #888;
            text-transform: uppercase;
            margin-bottom: 4px;
        }

        @media (min-width: 768px) {
            .card h3 {
                font-size: 0.7em;
                margin-bottom: 6px;
            }
        }

        .card .value {
            font-size: 1.2em;
            font-weight: bold;
            color: #00d9ff;
        }

        @media (min-width: 768px) {
            .card .value { font-size: 1.6em; }
        }

        .card .value.green { color: #00ff88; }
        .card .value.pink { color: #ff6090; }
        .card .value.orange { color: #ff9800; }
        .card .unit { font-size: 0.6em; color: #666; margin-top: 2px; }

        @media (min-width: 768px) {
            .card .unit { font-size: 0.7em; margin-top: 3px; }
        }

        .charts-row {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }

        @media (min-width: 768px) {
            .charts-row {
                grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
                margin-bottom: 20px;
            }
        }

        .chart-box {
            background: rgba(255,255,255,0.08);
            border-radius: 10px;
            padding: 12px;
        }

        @media (min-width: 768px) {
            .chart-box { padding: 15px; }
        }

        .chart-box h3 {
            margin-bottom: 10px;
            font-size: 0.9em;
            color: #00d9ff;
        }

        @media (min-width: 768px) {
            .chart-box h3 {
                margin-bottom: 12px;
                font-size: 1em;
            }
        }

        .chart-area {
            height: 200px;
            position: relative;
        }

        @media (min-width: 768px) {
            .chart-area { height: 250px; }
        }

        .chart-area.tall { height: 300px; }

        @media (min-width: 768px) {
            .chart-area.tall { height: 400px; }
        }

        .info-box {
            background: rgba(0,217,255,0.1);
            border-left: 4px solid #00d9ff;
            padding: 12px;
            border-radius: 0 10px 10px 0;
            margin-bottom: 15px;
        }

        @media (min-width: 768px) {
            .info-box {
                padding: 15px;
                margin-bottom: 20px;
            }
        }

        .info-box h4 {
            color: #00d9ff;
            margin-bottom: 6px;
            font-size: 0.9em;
        }

        @media (min-width: 768px) {
            .info-box h4 {
                margin-bottom: 8px;
                font-size: 1em;
            }
        }

        .info-box p {
            color: #ccc;
            line-height: 1.4;
            font-size: 0.8em;
        }

        @media (min-width: 768px) {
            .info-box p {
                line-height: 1.5;
                font-size: 0.9em;
            }
        }

        .info-box.yellow { background: rgba(255,206,86,0.1); border-color: #ffce56; }
        .info-box.yellow h4 { color: #ffce56; }
        .info-box.purple { background: rgba(153,102,255,0.1); border-color: #9966ff; }
        .info-box.purple h4 { color: #9966ff; }
        .info-box.green { background: rgba(0,255,136,0.1); border-color: #00ff88; }
        .info-box.green h4 { color: #00ff88; }
        .info-box ul { color: #ccc; padding-left: 20px; margin-top: 8px; font-size: 0.8em; }

        @media (min-width: 768px) {
            .info-box ul { font-size: 0.9em; }
        }

        .info-box li { margin-bottom: 4px; }
        .info-box code {
            background: rgba(0,0,0,0.3);
            padding: 2px 5px;
            border-radius: 3px;
            color: #00ff88;
            font-family: monospace;
            font-size: 0.85em;
        }

        .table-container {
            width: 100%;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 400px;
        }

        th, td {
            padding: 6px 8px;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            font-size: 0.75em;
            white-space: nowrap;
        }

        @media (min-width: 768px) {
            th, td {
                padding: 8px 10px;
                font-size: 0.85em;
            }
        }

        th { background: rgba(0,217,255,0.2); color: #00d9ff; }
        tr:hover { background: rgba(255,255,255,0.05); }
        .highlight { background: rgba(0,255,136,0.15); }

        .scroll-table {
            max-height: 250px;
            overflow-y: auto;
        }

        @media (min-width: 768px) {
            .scroll-table { max-height: 300px; }
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.05);
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb {
            background: rgba(0,217,255,0.5);
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: rgba(0,217,255,0.8);
        }
    </style>
</head>
<body>
    <!-- LOGIN SCREEN -->
    <div id="loginOverlay" class="login-overlay">
        <div class="login-box">
            <h1>PAJU Dashboard</h1>
            <p>Introduceti parola pentru acces</p>
            <input type="password" id="passwordInput" placeholder="Parola..." onkeypress="if(event.key==='Enter')checkPassword()">
            <button onclick="checkPassword()">Autentificare</button>
            <div id="loginError" class="login-error">Parola incorecta!</div>
            <div class="login-hint">Dashboard securizat - acces restrictionat</div>
        </div>
    </div>

    <!-- DASHBOARD CONTENT -->
    <div id="dashboardContent" class="dashboard-content hidden">
        <button class="logout-btn" onclick="logout()">Deconectare</button>

        <div class="header">
            <h1>PAJU Dashboard</h1>
            <p>Statistici complete pentru colectarea deseurilor</p>
            <div class="date">Data raport: 26 Noiembrie 2025 | Total: 30.292 persoane</div>
        </div>

        <div class="tabs">
            <button class="tab active" data-tab="overview">Prezentare</button>
            <button class="tab" data-tab="demografie">Demografie</button>
            <button class="tab" data-tab="migratie">Migratie</button>
            <button class="tab" data-tab="localitati">Localitati</button>
            <button class="tab" data-tab="tranzactii">Tranzactii</button>
            <button class="tab" data-tab="concluzii">Concluzii</button>
        </div>

        <!-- TAB 1: OVERVIEW -->
        <div id="overview" class="tab-content active">
            <div class="section">
                <h2 class="section-title">Prezentare Generala</h2>

                <div class="info-box">
                    <h4>Despre aceste fisiere</h4>
                    <p><strong>persoanefizice.xls</strong> - baza de date cu 30.292 persoane fizice, parteneri ai unei companii de colectare deseuri din Bihor.<br>
                    <strong>sorturi.xls</strong> - 92 tranzactii de achizitie deseuri in valoare de 245.912 RON.</p>
                </div>

                <div class="cards">
                    <div class="card"><h3>Total Persoane</h3><div class="value">30.292</div></div>
                    <div class="card"><h3>Barbati</h3><div class="value">26.388</div><div class="unit">87,1%</div></div>
                    <div class="card"><h3>Femei</h3><div class="value pink">3.831</div><div class="unit">12,6%</div></div>
                    <div class="card"><h3>Varsta Medie</h3><div class="value">45,8</div><div class="unit">ani</div></div>
                    <div class="card"><h3>Judet Principal</h3><div class="value">Bihor</div><div class="unit">88%</div></div>
                    <div class="card"><h3>Oras Principal</h3><div class="value">Oradea</div><div class="unit">13.230</div></div>
                </div>

                <div class="cards">
                    <div class="card"><h3>Tranzactii</h3><div class="value">92</div></div>
                    <div class="card"><h3>Valoare Totala</h3><div class="value green">245.912</div><div class="unit">RON</div></div>
                    <div class="card"><h3>Platit Efectiv</h3><div class="value green">216.451</div><div class="unit">RON</div></div>
                    <div class="card"><h3>Tipuri Deseuri</h3><div class="value">36</div></div>
                    <div class="card"><h3>Nascuti Bihor</h3><div class="value">81,7%</div></div>
                    <div class="card"><h3>Migranti</h3><div class="value">~18%</div><div class="unit">alte judete</div></div>
                </div>

                <div class="charts-row">
                    <div class="chart-box">
                        <h3>Distributie pe judete</h3>
                        <div class="chart-area"><canvas id="chart1"></canvas></div>
                    </div>
                    <div class="chart-box">
                        <h3>Top Localitati</h3>
                        <div class="chart-area"><canvas id="chart2"></canvas></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 2: DEMOGRAFIE -->
        <div id="demografie" class="tab-content">
            <div class="section">
                <h2 class="section-title">Analiza Demografica pe baza CNP</h2>

                <div class="info-box yellow">
                    <h4>Structura CNP (Cod Numeric Personal)</h4>
                    <p>CNP-ul romanesc are 13 cifre: <code>S AA LL ZZ JJ NNN C</code></p>
                    <ul>
                        <li><strong>S</strong> - Sex: <code>1</code>=barbat 1900-1999, <code>2</code>=femeie 1900-1999, <code>5</code>=barbat 2000+, <code>6</code>=femeie 2000+</li>
                        <li><strong>AA LL ZZ</strong> - Data nasterii (an, luna, zi)</li>
                        <li><strong>JJ</strong> - Codul judetului de nastere</li>
                        <li><strong>NNN</strong> - Numar ordine, <strong>C</strong> - Cifra control</li>
                    </ul>
                </div>

                <div class="cards">
                    <div class="card"><h3>Barbati</h3><div class="value">26.388</div><div class="unit">87,1%</div></div>
                    <div class="card"><h3>Femei</h3><div class="value pink">3.831</div><div class="unit">12,6%</div></div>
                    <div class="card"><h3>Straini</h3><div class="value">72</div><div class="unit">0,2%</div></div>
                    <div class="card"><h3>Varsta Medie</h3><div class="value">45,8</div><div class="unit">ani</div></div>
                    <div class="card"><h3>Mediana</h3><div class="value">45</div><div class="unit">ani</div></div>
                    <div class="card"><h3>Legfiatalabb</h3><div class="value">15</div><div class="unit">ani</div></div>
                    <div class="card"><h3>Legidosebb</h3><div class="value orange">120</div><div class="unit">verificat!</div></div>
                    <div class="card"><h3>Minori</h3><div class="value">4</div><div class="unit">&lt;18 ani</div></div>
                </div>

                <div class="charts-row">
                    <div class="chart-box">
                        <h3>Distributie pe sex</h3>
                        <div class="chart-area"><canvas id="chart3"></canvas></div>
                    </div>
                    <div class="chart-box">
                        <h3>Grupe de varsta</h3>
                        <div class="chart-area"><canvas id="chart4"></canvas></div>
                    </div>
                </div>

                <div class="chart-box">
                    <h3>Distributie pe anul nasterii</h3>
                    <div class="chart-area"><canvas id="chart5"></canvas></div>
                </div>

                <div class="charts-row" style="margin-top:15px;">
                    <div class="chart-box">
                        <h3>Grupe de varsta (tabel)</h3>
                        <div class="table-container">
                            <table>
                                <tr><th>Grupa</th><th>Numar</th><th>%</th></tr>
                                <tr><td>0-17 (Minori)</td><td>4</td><td>0,01%</td></tr>
                                <tr><td>18-24</td><td>1.466</td><td>4,8%</td></tr>
                                <tr><td>25-34</td><td>5.689</td><td>18,8%</td></tr>
                                <tr class="highlight"><td>35-44</td><td>7.591</td><td>25,1%</td></tr>
                                <tr class="highlight"><td>45-54</td><td>7.390</td><td>24,4%</td></tr>
                                <tr><td>55-64</td><td>4.722</td><td>15,6%</td></tr>
                                <tr><td>65+</td><td>3.429</td><td>11,3%</td></tr>
                            </table>
                        </div>
                    </div>
                    <div class="chart-box">
                        <h3>Top 10 ani de nastere</h3>
                        <div class="table-container">
                            <table>
                                <tr><th>An</th><th>Numar</th><th>Varsta</th></tr>
                                <tr class="highlight"><td>1989</td><td>849</td><td>36 ani</td></tr>
                                <tr><td>1987</td><td>819</td><td>38 ani</td></tr>
                                <tr><td>1978</td><td>814</td><td>47 ani</td></tr>
                                <tr><td>1986</td><td>808</td><td>39 ani</td></tr>
                                <tr><td>1988</td><td>777</td><td>37 ani</td></tr>
                                <tr><td>1977</td><td>773</td><td>48 ani</td></tr>
                                <tr><td>1985</td><td>765</td><td>40 ani</td></tr>
                                <tr><td>1976</td><td>761</td><td>49 ani</td></tr>
                                <tr><td>1984</td><td>759</td><td>41 ani</td></tr>
                                <tr><td>1980</td><td>749</td><td>45 ani</td></tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 3: MIGRATIE -->
        <div id="migratie" class="tab-content">
            <div class="section">
                <h2 class="section-title">Analiza Migratie</h2>

                <div class="info-box purple">
                    <h4>Metodologie</h4>
                    <p>Am comparat <strong>judetul de nastere</strong> (extras din CNP, cifrele 8-9) cu <strong>judetul de domiciliu actual</strong>. Diferentele indica persoane care s-au mutat.</p>
                </div>

                <div class="cards">
                    <div class="card"><h3>Nascuti Bihor</h3><div class="value">24.735</div><div class="unit">81,7%</div></div>
                    <div class="card"><h3>Satu Mare</h3><div class="value">1.117</div><div class="unit">3,7%</div></div>
                    <div class="card"><h3>Salaj</h3><div class="value">572</div><div class="unit">1,9%</div></div>
                    <div class="card"><h3>Cluj</h3><div class="value">490</div><div class="unit">1,6%</div></div>
                    <div class="card"><h3>Top Ruta</h3><div class="value">SM-SJ</div><div class="unit">807 pers.</div></div>
                    <div class="card"><h3>Veniti Bihor</h3><div class="value">~2.500</div><div class="unit">alte judete</div></div>
                </div>

                <div class="charts-row">
                    <div class="chart-box">
                        <h3>Judet de nastere (CNP)</h3>
                        <div class="chart-area"><canvas id="chart6"></canvas></div>
                    </div>
                    <div class="chart-box">
                        <h3>Top 10 rute migratie</h3>
                        <div class="chart-area"><canvas id="chart7"></canvas></div>
                    </div>
                </div>

                <div class="chart-box">
                    <h3>Detalii migratie - Top 15 rute</h3>
                    <div class="table-container scroll-table">
                        <table>
                            <tr><th>#</th><th>De la</th><th>Catre</th><th>Pers.</th><th>Obs.</th></tr>
                            <tr class="highlight"><td>1</td><td>Satu Mare</td><td>Salaj</td><td>807</td><td>Principal!</td></tr>
                            <tr><td>2</td><td>Salaj</td><td>Satu Mare</td><td>347</td><td>Invers</td></tr>
                            <tr><td>3</td><td>Satu Mare</td><td>Bihor</td><td>286</td><td>Oradea</td></tr>
                            <tr><td>4</td><td>Cluj</td><td>Bihor</td><td>225</td><td></td></tr>
                            <tr><td>5</td><td>Salaj</td><td>Bihor</td><td>200</td><td></td></tr>
                            <tr><td>6</td><td>Maramures</td><td>Bihor</td><td>132</td><td></td></tr>
                            <tr><td>7</td><td>Arad</td><td>Bihor</td><td>116</td><td>Vecini</td></tr>
                            <tr><td>8</td><td>Timis</td><td>Bihor</td><td>116</td><td></td></tr>
                            <tr><td>9</td><td>Hunedoara</td><td>Bihor</td><td>112</td><td></td></tr>
                            <tr><td>10</td><td>Mures</td><td>Bihor</td><td>85</td><td></td></tr>
                            <tr><td>11</td><td>Bucuresti</td><td>Bihor</td><td>83</td><td>Capital</td></tr>
                            <tr><td>12</td><td>Alba</td><td>Bihor</td><td>68</td><td></td></tr>
                            <tr><td>13</td><td>Bihor</td><td>Salaj</td><td>65</td><td>Plecare</td></tr>
                            <tr><td>14</td><td>Caras-Sev.</td><td>Bihor</td><td>49</td><td></td></tr>
                            <tr><td>15</td><td>Sibiu</td><td>Bihor</td><td>44</td><td></td></tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 4: LOCALITATI -->
        <div id="localitati" class="tab-content">
            <div class="section">
                <h2 class="section-title">Toate Localitatile (normalizate)</h2>

                <div class="info-box">
                    <h4>Despre normalizare</h4>
                    <p>S-au eliminat prefixele (com, mun, oras), s-au corectat greselile ("Oradsea" -> "Oradea", "Sacuieni" -> "Sacueni"), s-au combinat variantele.</p>
                    <p style="margin-top:8px;"><strong>Inainte:</strong> 2.385 variante | <strong>Dupa:</strong> ~1.200 unice</p>
                </div>

                <div class="chart-box">
                    <h3>Top 30 Localitati</h3>
                    <div class="chart-area tall"><canvas id="chart8"></canvas></div>
                </div>

                <div class="chart-box" style="margin-top:15px;">
                    <h3>Lista Top 30 Localitati</h3>
                    <div class="table-container scroll-table">
                        <table>
                            <tr><th>#</th><th>Localitate</th><th>Pers.</th><th>%</th><th>Tip</th></tr>
                            <tr class="highlight"><td>1</td><td>Oradea</td><td>13.230</td><td>43,7%</td><td>Municipiu</td></tr>
                            <tr><td>2</td><td>Osorhei</td><td>1.440</td><td>4,8%</td><td>Comuna</td></tr>
                            <tr><td>3</td><td>Simleul Silvaniei</td><td>700</td><td>2,3%</td><td>Oras (SJ)</td></tr>
                            <tr><td>4</td><td>Ineu</td><td>699</td><td>2,3%</td><td>Comuna</td></tr>
                            <tr><td>5</td><td>Sanmartin</td><td>694</td><td>2,3%</td><td>Balneara</td></tr>
                            <tr><td>6</td><td>Tileagd</td><td>641</td><td>2,1%</td><td>Comuna</td></tr>
                            <tr><td>7</td><td>Alesd</td><td>310</td><td>1,0%</td><td>Oras</td></tr>
                            <tr><td>8</td><td>Salonta</td><td>286</td><td>0,9%</td><td>Municipiu</td></tr>
                            <tr><td>9</td><td>Copacel</td><td>282</td><td>0,9%</td><td>Comuna</td></tr>
                            <tr><td>10</td><td>Marghita</td><td>267</td><td>0,9%</td><td>Municipiu</td></tr>
                            <tr><td>11</td><td>Nojorid</td><td>262</td><td>0,9%</td><td>Comuna</td></tr>
                            <tr><td>12</td><td>Sacueni</td><td>258</td><td>0,9%</td><td>Oras</td></tr>
                            <tr><td>13</td><td>Brusturi</td><td>257</td><td>0,8%</td><td>Comuna</td></tr>
                            <tr><td>14</td><td>Ceica</td><td>256</td><td>0,8%</td><td>Comuna</td></tr>
                            <tr><td>15</td><td>Paleu</td><td>253</td><td>0,8%</td><td>Comuna</td></tr>
                            <tr><td>16</td><td>Sacadat</td><td>249</td><td>0,8%</td><td>Comuna</td></tr>
                            <tr><td>17</td><td>Diosig</td><td>224</td><td>0,7%</td><td>Comuna</td></tr>
                            <tr><td>18</td><td>Biharia</td><td>212</td><td>0,7%</td><td>Comuna</td></tr>
                            <tr><td>19</td><td>Dobresti</td><td>203</td><td>0,7%</td><td>Comuna</td></tr>
                            <tr><td>20</td><td>Astileu</td><td>196</td><td>0,6%</td><td>Comuna</td></tr>
                            <tr><td>21</td><td>Bors</td><td>192</td><td>0,6%</td><td>Vama</td></tr>
                            <tr><td>22</td><td>Popesti</td><td>192</td><td>0,6%</td><td>Comuna</td></tr>
                            <tr><td>23</td><td>Hidiselu</td><td>191</td><td>0,6%</td><td>Comuna</td></tr>
                            <tr><td>24</td><td>Tetchea</td><td>191</td><td>0,6%</td><td>Comuna</td></tr>
                            <tr><td>25</td><td>Salard</td><td>176</td><td>0,6%</td><td>Comuna</td></tr>
                            <tr><td>26</td><td>Beius</td><td>166</td><td>0,5%</td><td>Municipiu</td></tr>
                            <tr><td>27</td><td>Bratca</td><td>156</td><td>0,5%</td><td>Comuna</td></tr>
                            <tr><td>28</td><td>Sintandrei</td><td>149</td><td>0,5%</td><td>Comuna</td></tr>
                            <tr><td>29</td><td>Tinca</td><td>148</td><td>0,5%</td><td>Comuna</td></tr>
                            <tr><td>30</td><td>Lazareni</td><td>144</td><td>0,5%</td><td>Comuna</td></tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 5: TRANZACTII -->
        <div id="tranzactii" class="tab-content">
            <div class="section">
                <h2 class="section-title">Tranzactii Deseuri (sorturi.xls)</h2>

                <div class="info-box">
                    <h4>Despre fisier</h4>
                    <p>92 tranzactii de achizitie deseuri de la 74 persoane unice. Valoare totala: 245.912 RON, platit efectiv: 216.451 RON (dupa impozit 10% si fond mediu 2%).</p>
                </div>

                <div class="cards">
                    <div class="card"><h3>Tranzactii</h3><div class="value">92</div></div>
                    <div class="card"><h3>Pers. Unice</h3><div class="value">74</div></div>
                    <div class="card"><h3>Val. Totala</h3><div class="value green">245.912</div><div class="unit">RON</div></div>
                    <div class="card"><h3>Platit</h3><div class="value green">216.451</div><div class="unit">RON</div></div>
                    <div class="card"><h3>Impozit</h3><div class="value">24.543</div><div class="unit">10%</div></div>
                    <div class="card"><h3>Fond Mediu</h3><div class="value">4.918</div><div class="unit">2%</div></div>
                    <div class="card"><h3>Plata</h3><div class="value">Cash</div><div class="unit">100%</div></div>
                    <div class="card"><h3>Tipuri</h3><div class="value">36</div></div>
                </div>

                <div class="charts-row">
                    <div class="chart-box">
                        <h3>Top 10 tipuri deseuri (kg)</h3>
                        <div class="chart-area"><canvas id="chart9"></canvas></div>
                    </div>
                    <div class="chart-box">
                        <h3>Distributie financiara</h3>
                        <div class="chart-area"><canvas id="chart10"></canvas></div>
                    </div>
                </div>

                <div class="chart-box" style="margin-top:15px;">
                    <h3>Toate tipurile de deseuri</h3>
                    <div class="table-container scroll-table">
                        <table>
                            <tr><th>#</th><th>Tip deseu</th><th>Pret/kg</th><th>Tranz.</th><th>Cant.</th></tr>
                            <tr class="highlight"><td>1</td><td>Fier</td><td>0,90</td><td>7</td><td>8.140 kg</td></tr>
                            <tr class="highlight"><td>2</td><td>Fier</td><td>0,80</td><td>16</td><td>6.414 kg</td></tr>
                            <tr><td>3</td><td>Aluminiu</td><td>7,50</td><td>19</td><td>5.596 kg</td></tr>
                            <tr><td>4</td><td>Alama</td><td>26,50</td><td>18</td><td>2.305 kg</td></tr>
                            <tr><td>5</td><td>Fier</td><td>0,85</td><td>3</td><td>2.280 kg</td></tr>
                            <tr><td>6</td><td>Fier VSU</td><td>0,65</td><td>2</td><td>2.200 kg</td></tr>
                            <tr><td>7</td><td>Ambalaj metalic</td><td>0,20</td><td>17</td><td>2.190 kg</td></tr>
                            <tr><td>8</td><td>Cupru</td><td>41,50</td><td>32</td><td>1.874 kg</td></tr>
                            <tr><td>9</td><td>Acumulatori</td><td>2,90</td><td>10</td><td>1.114 kg</td></tr>
                            <tr><td>10</td><td>DEEE Casnic</td><td>1,45</td><td>2</td><td>880 kg</td></tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 6: CONCLUZII -->
        <div id="concluzii" class="tab-content">
            <div class="section">
                <h2 class="section-title">Concluzii si Recomandari</h2>

                <div class="info-box green">
                    <h4>1. Profil demografic tipic</h4>
                    <p>Partenerul tipic: <strong>barbat de 35-54 ani</strong> (49,5% din baza), nascut in <strong>Bihor</strong>, domiciliat in <strong>Oradea sau imprejurimi</strong>. Raport barbati/femei = 7:1.</p>
                </div>

                <div class="info-box green">
                    <h4>2. Concentrare geografica</h4>
                    <p>88% din parteneri sunt din <strong>judetul Bihor</strong>, 44% doar din <strong>Oradea</strong>. Top 10 localitati = ~60% din baza.</p>
                </div>

                <div class="info-box green">
                    <h4>3. Migratie semnificativa</h4>
                    <p>~18% s-au nascut in alte judete. Ruta principala <strong>Satu Mare - Salaj</strong> (807 pers.) e surprinzator de mare.</p>
                </div>

                <div class="info-box yellow">
                    <h4>4. Probleme calitate date</h4>
                    <p><strong>Atentie:</strong> Exista varste imposibile (120 ani) = erori CNP. Multe localitati scrise gresit.</p>
                    <ul>
                        <li>Validare automata CNP la introducere</li>
                        <li>Lista dropdown pentru localitati</li>
                        <li>Verificare periodica date aberante</li>
                    </ul>
                </div>

                <div class="info-box">
                    <h4>5. Informatii suplimentare recomandate</h4>
                    <ul>
                        <li><strong>Istoric tranzactii</strong> - frecventa, valoare totala per persoana</li>
                        <li><strong>Analiza sezonalitate</strong> - daca ar exista date despre perioada</li>
                        <li><strong>Segmentare clienti</strong> - top furnizori, noi vs. recurenti</li>
                        <li><strong>Harta geografica</strong> - vizualizare distributie pe harta</li>
                        <li><strong>Trend pe ani</strong> - evolutie parteneri si tranzactii</li>
                        <li><strong>Analiza rentabilitate</strong> - profit per tip deseu</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Password protection
        var CORRECT_PASSWORD = 'paju2025';

        function checkPassword() {
            var input = document.getElementById('passwordInput');
            var error = document.getElementById('loginError');

            if (input.value === CORRECT_PASSWORD) {
                document.getElementById('loginOverlay').classList.add('hidden');
                document.getElementById('dashboardContent').classList.remove('hidden');
                sessionStorage.setItem('paju_auth', 'true');
                initCharts();
            } else {
                error.style.display = 'block';
                input.value = '';
                input.focus();
            }
        }

        function logout() {
            sessionStorage.removeItem('paju_auth');
            document.getElementById('loginOverlay').classList.remove('hidden');
            document.getElementById('dashboardContent').classList.add('hidden');
            document.getElementById('passwordInput').value = '';
            document.getElementById('loginError').style.display = 'none';
        }

        // Check session on load
        if (sessionStorage.getItem('paju_auth') === 'true') {
            document.getElementById('loginOverlay').classList.add('hidden');
            document.getElementById('dashboardContent').classList.remove('hidden');
        }

        // Tab switching
        document.querySelectorAll('.tab').forEach(function(tab) {
            tab.addEventListener('click', function() {
                var tabId = this.getAttribute('data-tab');
                document.querySelectorAll('.tab-content').forEach(function(content) {
                    content.classList.remove('active');
                });
                document.querySelectorAll('.tab').forEach(function(t) {
                    t.classList.remove('active');
                });
                document.getElementById(tabId).classList.add('active');
                this.classList.add('active');
            });
        });

        // Initialize charts
        function initCharts() {
            Chart.defaults.color = '#888';
            Chart.defaults.borderColor = 'rgba(255,255,255,0.1)';

            // Chart 1 - Counties
            new Chart(document.getElementById('chart1'), {
                type: 'bar',
                data: {
                    labels: ['Bihor', 'Salaj', 'Satu Mare', 'Cluj', 'Arad', 'Timis', 'Maramures', 'Hunedoara'],
                    datasets: [{
                        data: [26708, 925, 383, 311, 197, 142, 136, 129],
                        backgroundColor: 'rgba(0,217,255,0.6)',
                        borderColor: 'rgba(0,217,255,1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { y: { beginAtZero: true } }
                }
            });

            // Chart 2 - Top localities
            new Chart(document.getElementById('chart2'), {
                type: 'doughnut',
                data: {
                    labels: ['Oradea', 'Osorhei', 'Simleul S.', 'Ineu', 'Sanmartin', 'Tileagd', 'Altele'],
                    datasets: [{
                        data: [13230, 1440, 700, 699, 694, 641, 12888],
                        backgroundColor: ['#00d9ff', '#00ff88', '#ffce56', '#ff6384', '#9966ff', '#ff9f40', '#666'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'right', labels: { color: '#fff', font: { size: 10 } } } }
                }
            });

            // Chart 3 - Gender
            new Chart(document.getElementById('chart3'), {
                type: 'pie',
                data: {
                    labels: ['Barbati 87,1%', 'Femei 12,6%', 'Straini 0,2%'],
                    datasets: [{
                        data: [26388, 3831, 72],
                        backgroundColor: ['#4a90d9', '#e91e63', '#ffce56'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'bottom', labels: { color: '#fff' } } }
                }
            });

            // Chart 4 - Age groups
            new Chart(document.getElementById('chart4'), {
                type: 'bar',
                data: {
                    labels: ['0-17', '18-24', '25-34', '35-44', '45-54', '55-64', '65+'],
                    datasets: [{
                        data: [4, 1466, 5689, 7591, 7390, 4722, 3429],
                        backgroundColor: ['#ff6384', '#ff9f40', '#ffce56', '#00ff88', '#00d9ff', '#9966ff', '#999'],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { y: { beginAtZero: true } }
                }
            });

            // Chart 5 - Birth years
            new Chart(document.getElementById('chart5'), {
                type: 'line',
                data: {
                    labels: ['1968', '1972', '1973', '1974', '1975', '1976', '1977', '1978', '1979', '1980', '1981', '1983', '1984', '1985', '1986', '1987', '1988', '1989', '1990', '1991'],
                    datasets: [{
                        data: [691, 704, 741, 746, 740, 761, 773, 814, 719, 749, 747, 687, 759, 765, 808, 819, 777, 849, 700, 690],
                        borderColor: '#00ff88',
                        backgroundColor: 'rgba(0,255,136,0.2)',
                        fill: true,
                        tension: 0.3
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } }
                }
            });

            // Chart 6 - Birth county
            new Chart(document.getElementById('chart6'), {
                type: 'bar',
                data: {
                    labels: ['Bihor', 'Satu Mare', 'Salaj', 'Cluj', 'Arad', 'Maramures', 'Hunedoara', 'Timis'],
                    datasets: [{
                        data: [24735, 1117, 572, 490, 275, 266, 234, 223],
                        backgroundColor: 'rgba(153,102,255,0.6)',
                        borderColor: 'rgba(153,102,255,1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { y: { beginAtZero: true } }
                }
            });

            // Chart 7 - Migration routes
            new Chart(document.getElementById('chart7'), {
                type: 'bar',
                data: {
                    labels: ['SM-SJ', 'SJ-SM', 'SM-BH', 'CJ-BH', 'SJ-BH', 'MM-BH', 'AR-BH', 'TM-BH', 'HD-BH', 'MS-BH'],
                    datasets: [{
                        data: [807, 347, 286, 225, 200, 132, 116, 116, 112, 85],
                        backgroundColor: 'rgba(255,159,64,0.6)',
                        borderColor: 'rgba(255,159,64,1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } }
                }
            });

            // Chart 8 - All localities
            new Chart(document.getElementById('chart8'), {
                type: 'bar',
                data: {
                    labels: ['Oradea', 'Osorhei', 'Simleul S.', 'Ineu', 'Sanmartin', 'Tileagd', 'Alesd', 'Salonta', 'Copacel', 'Marghita', 'Nojorid', 'Sacueni', 'Brusturi', 'Ceica', 'Paleu', 'Sacadat', 'Diosig', 'Biharia', 'Dobresti', 'Astileu', 'Bors', 'Popesti', 'Hidiselu', 'Tetchea', 'Salard', 'Beius', 'Bratca', 'Sintandrei', 'Tinca', 'Lazareni'],
                    datasets: [{
                        data: [13230, 1440, 700, 699, 694, 641, 310, 286, 282, 267, 262, 258, 257, 256, 253, 249, 224, 212, 203, 196, 192, 192, 191, 191, 176, 166, 156, 149, 148, 144],
                        backgroundColor: 'rgba(0,217,255,0.6)',
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } }
                }
            });

            // Chart 9 - Waste types
            new Chart(document.getElementById('chart9'), {
                type: 'bar',
                data: {
                    labels: ['Fier 0.90', 'Fier 0.80', 'Aluminiu', 'Alama', 'Fier 0.85', 'Fier VSU', 'Ambalaj', 'Cupru', 'Acumulat.', 'DEEE'],
                    datasets: [{
                        data: [8140, 6414, 5596, 2305, 2280, 2200, 2190, 1874, 1114, 880],
                        backgroundColor: 'rgba(0,255,136,0.6)',
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } }
                }
            });

            // Chart 10 - Financial
            new Chart(document.getElementById('chart10'), {
                type: 'pie',
                data: {
                    labels: ['Platit 88%', 'Impozit 10%', 'Fond mediu 2%'],
                    datasets: [{
                        data: [216451, 24543, 4918],
                        backgroundColor: ['#00ff88', '#ff6384', '#ffce56'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'bottom', labels: { color: '#fff' } } }
                }
            });
        }

        // Init charts if already logged in
        if (sessionStorage.getItem('paju_auth') === 'true') {
            document.addEventListener('DOMContentLoaded', initCharts);
        }
    </script>
</body>
</html>
